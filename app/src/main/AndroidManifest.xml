<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- ðŸ”” Permisos para Notificaciones -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.VIBRATE" />
    
    <!-- ðŸ“¡ Permisos Bluetooth (para conexiÃ³n ESP32) -->
    <uses-permission android:name="android.permission.BLUETOOTH" />
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    
    <!-- ðŸŒ Permisos Internet (para Firebase) -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    
    <!-- ðŸ“¡ Permisos WiFi P2P (para multi-dispositivo) -->
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    
    <!-- ðŸ”’ Permisos de seguridad adicionales -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />

    <application
        android:name=".AirQualityApplication"
        android:allowBackup="true"
        android:label="ðŸŒ¬ï¸ Air Monitor TI3042"
        android:icon="@mipmap/ic_launcher"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.AppCompat.Light.NoActionBar">

        <!-- ï¿½ Launcher Activity - Punto de entrada principal -->
        <activity
            android:name=".LauncherActivity"
            android:exported="true"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        
        <!-- ðŸ” Auth Activity se declara automÃ¡ticamente desde :feature:auth -->

        <!-- ðŸ” Login Activity (legacy - serÃ¡ removida) -->
        <activity
            android:name=".ui.auth.LoginActivity"
            android:exported="false"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar" />

        <!-- ðŸ“± Main Activity - Dashboard principal -->
        <activity
            android:name=".MainActivity"
            android:exported="false"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar" />

        <!-- ðŸ”§ Control System Activity - Sistema de control avanzado -->
        <activity
            android:name=".ui.control.ControlSystemActivity"
            android:exported="false"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar"
            android:parentActivityName=".MainActivity" />

        <!-- ðŸ”„ Simple Data Sync Service - SincronizaciÃ³n automÃ¡tica con Firebase -->
        <service
            android:name=".services.SimpleDataSyncService"
            android:enabled="true"
            android:exported="false" />

        <!-- ðŸ”¥ Firebase Data Service - Servicio simplificado de Firebase -->
        <service
            android:name=".services.FirebaseDataService"
            android:enabled="true"
            android:exported="false" />

        <!-- ðŸ§ª ESP32 Testing Activity - Actividad de pruebas con hardware (temporalmente deshabilitada) -->
        <!--
        <activity
            android:name=".testing.ESP32TestingActivity"
            android:exported="true"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar"
            android:label="ESP32 Testing Lab">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.DEFAULT"/>
            </intent-filter>
        </activity>
        -->

        <!-- âš™ï¸ Auth Settings Activity - ConfiguraciÃ³n de sesiÃ³n persistente (temporalmente deshabilitada) -->
        <!--
        <activity
            android:name=".ui.settings.AuthSettingsActivity"
            android:exported="false"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar"
            android:label="ConfiguraciÃ³n de SesiÃ³n"
            android:parentActivityName=".MainActivity" />
        -->

    </application>
</manifest>
